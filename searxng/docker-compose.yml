# ./searxng/docker-compose.yml
version: '3.8'

services:
  searxng:
    image: searxng/searxng:latest
    container_name: searxng
    environment:
      - SEARXNG_SECRET=${SEARXNG_SECRET}
    ports:
      - "8888:8080" # Map host port 8888 to container port 8080 (for direct access/testing)
    volumes:
      # Mount the settings file directly from this folder
      - ./settings.yml:/etc/searxng/settings.yml:ro # Read-only mount is safer
      - ./config:/etc/searxng/config
      - ./data:/var/cache/searxng/
    networks:
      - ai_network # Connect to the shared network
    restart: unless-stopped

# Optional: Define volume if used above
# volumes:
#   searxng_data:
#     name: searxng_data

networks:
  ai_network:
    external: true # Assumes the network is created separately or by one of the compose files
    name: ai_network